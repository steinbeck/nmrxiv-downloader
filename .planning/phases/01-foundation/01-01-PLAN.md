---
phase: 01-foundation
plan: 01
type: execute
---

<objective>
Set up Python project structure and create CLI skeleton with Typer.

Purpose: Establish the foundation that all features depend on — proper packaging, entry points, and CLI framework.
Output: Working `nmrxiv` CLI command with stub subcommands (search, show, download).
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-phase.md
~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/01-foundation/01-RESEARCH.md

**Tech stack (from RESEARCH.md):**
- typer 0.12+ (CLI framework)
- httpx 0.27+ (HTTP client)
- rich 13+ (terminal formatting, bundled with typer)
- pydantic 2.5+ (data validation)

**Project structure (from RESEARCH.md):**
```
nmrxiv_downloader/
├── __init__.py
├── __main__.py
├── cli.py
├── client.py
├── models.py
├── output.py
└── config.py
```

**Don't hand-roll (from RESEARCH.md):**
- Argument parsing → use Typer
- Config management → use pydantic-settings or dotenv
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create Python package with pyproject.toml</name>
  <files>pyproject.toml, nmrxiv_downloader/__init__.py, nmrxiv_downloader/__main__.py, README.md</files>
  <action>
Create modern Python package structure:

1. Create `pyproject.toml` with:
   - name: nmrxiv-downloader
   - version: 0.1.0
   - description: "CLI tool for searching and downloading NMR datasets from nmrxiv.org"
   - requires-python: ">=3.10"
   - dependencies: typer[all]>=0.12.0, httpx>=0.27.0, pydantic>=2.5.0
   - Script entry point: nmrxiv = "nmrxiv_downloader.cli:app"
   - Use hatchling as build backend (standard, simple)

2. Create `nmrxiv_downloader/__init__.py` with:
   - __version__ = "0.1.0"

3. Create `nmrxiv_downloader/__main__.py` with:
   - Import and run app from cli module
   - This enables `python -m nmrxiv_downloader`

4. Update README.md with basic project description (keep it minimal)

Do NOT use setup.py (deprecated). Use pyproject.toml only.
  </action>
  <verify>python -c "import nmrxiv_downloader; print(nmrxiv_downloader.__version__)" prints "0.1.0"</verify>
  <done>Package structure exists, pyproject.toml valid, module importable</done>
</task>

<task type="auto">
  <name>Task 2: Create Typer CLI skeleton with command stubs</name>
  <files>nmrxiv_downloader/cli.py</files>
  <action>
Create Typer app with stub commands:

1. Create `nmrxiv_downloader/cli.py` with:
   - Typer app with help text: "nmrXiv dataset search and download tool for Claude Code"
   - Three stub commands:
     - `search`: placeholder that outputs JSON {"status": "not implemented", "command": "search"}
     - `show`: placeholder that outputs JSON {"status": "not implemented", "command": "show"}
     - `download`: placeholder that outputs JSON {"status": "not implemented", "command": "download"}
   - Each command should accept `--json/--no-json` flag (default True)
   - Use proper exit codes (typer.Exit)

2. Follow patterns from RESEARCH.md:
   - JSON output to stdout
   - Errors to stderr
   - Proper exit codes

3. Do NOT implement actual functionality yet — just the skeleton.
  </action>
  <verify>pip install -e . && nmrxiv --help shows three commands; nmrxiv search outputs JSON</verify>
  <done>CLI installed, `nmrxiv --help` works, all three commands return JSON stubs</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] `pip install -e .` succeeds
- [ ] `nmrxiv --help` shows search, show, download commands
- [ ] `nmrxiv search` outputs valid JSON
- [ ] `nmrxiv show` outputs valid JSON
- [ ] `nmrxiv download` outputs valid JSON
- [ ] `python -m nmrxiv_downloader --help` works
</verification>

<success_criteria>

- All tasks completed
- Package installable in development mode
- CLI entry point `nmrxiv` works
- All three command stubs return JSON
- No Python errors or warnings
</success_criteria>

<output>
After completion, create `.planning/phases/01-foundation/01-01-SUMMARY.md`
</output>
